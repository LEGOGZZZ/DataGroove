<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DataGroove - Le Retour du Vinyle</title>
  <link rel="stylesheet" href="style.css">
  <link rel="shortcut icon" href="img/icone.png" type="image/x-icon">
</head>

<body>

  <!-- SECTION 0 : Logo seul au chargement -->
  <section id="intro">
    <img src="img/logo.png" alt="Logo DataGroove" class="logo-intro">
  </section>

  <!-- SECTION 1 : Accueil avec texte + vinyle à gauche -->
  <section id="accueil">

    <div class="accueil-content">
      <img src="img/icone.png" alt="Vinyle qui tourne" class="vinyle-anim reveal-item">
      <p class="texte-accueil reveal-item">
        Les streaming s’envolent, les albums y résistent, mais dans cette lutte, un format revient : le </strong>Vinyle</strong><br><br>
    
        Dans un élan de nostalgie et dans une quête d’une expérience plus authentique, les consommateurs adoptent de nouveau le fameux disque et le remettent au goût du jour.<br><br>
    
        Découvrez ici comment partout dans le monde le Vinyle devient un format incontournable dans le milieu de la musique.<br><br>
    
        <strong> Laissez les chiffres vous chanter l’histoire du Vinyle. </strong>
      </p>
    </div>
  </section>

  <!-- SECTION 2 : Retour du vinyle en France -->
  <section id="france" class="section">
  <div class="container">
    <h2>Le Retour du Vinyle en France</h2>
    <div class="graph-container" style="position:relative;">
      <svg id="svg-vinyle" viewBox="0 0 650 400" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Graphique de l'évolution des ventes de vinyles en France" style="z-index:2; position:relative;">
        <!-- Axes -->
        <line x1="70" y1="340" x2="620" y2="340" stroke="rgba(255,255,255,0.3)" stroke-width="2"/>
        <line x1="70" y1="60" x2="70" y2="340" stroke="rgba(255,255,255,0.3)" stroke-width="2"/>
        <!-- Graduation axe Y -->
        <g stroke="rgba(255,255,255,0.5)" stroke-width="1" font-size="12" fill="#ddd">
          <line x1="65" y1="340" x2="70" y2="340"/><text x="40" y="345">0M</text>
          <line x1="65" y1="290" x2="70" y2="290"/><text x="40" y="295">1M</text>
          <line x1="65" y1="240" x2="70" y2="240"/><text x="40" y="245">2M</text>
          <line x1="65" y1="190" x2="70" y2="190"/><text x="40" y="195">3M</text>
          <line x1="65" y1="140" x2="70" y2="140"/><text x="40" y="145">4M</text>
          <line x1="65" y1="90"  x2="70" y2="90"/><text x="40" y="95">5M</text>
        </g>
        <!-- Courbe -->
        <polyline 
          fill="none" 
          stroke="#e84545"
          stroke-width="5" 
          points="70,330 170,315 220,287 320,245 470,175 600,162"
          style="filter: drop-shadow(0px 3px 7px #af2929);"
        />
        <!-- Points interactifs -->
        <g id="grp-points">
          <circle class="graph-point" data-idx="0" cx="70" cy="330" r="10" fill="#fff" cursor="pointer"/>
          <circle class="graph-point" data-idx="1" cx="170" cy="315" r="10" fill="#fff" cursor="pointer"/>
          <circle class="graph-point" data-idx="2" cx="220" cy="287" r="10" fill="#fff" cursor="pointer"/>
          <circle class="graph-point" data-idx="3" cx="320" cy="245" r="10" fill="#fff" cursor="pointer"/>
          <circle class="graph-point" data-idx="4" cx="470" cy="175" r="10" fill="#fff" cursor="pointer"/>
          <circle class="graph-point" data-idx="5" cx="600" cy="162" r="10" fill="#fff" cursor="pointer"/>
        </g>
        <!-- Labels années -->
        <text x="60" y="365" fill="#fff" font-size="13">2000</text>
        <text x="160" y="365" fill="#fff" font-size="13">2012</text>
        <text x="210" y="365" fill="#fff" font-size="13">2016</text>
        <text x="310" y="365" fill="#fff" font-size="13">2020</text>
        <text x="460" y="365" fill="#fff" font-size="13">2022</text>
        <text x="590" y="365" fill="#fff" font-size="13">2024</text>
        <text x="90" y="80" fill="#fff" font-size="15" opacity="0.85">
          L'évolution de la vente de vinyles en France
        </text>
      </svg>
      <!-- Fiche tooltip dynamique -->
      <div class="tooltip-fiche" id="tooltip-fiche" style="display:none;">
        <div class="pop-fiche">Cette année :</div>
        <div class="chiffre-fiche" id="chiffre-fiche">0,0M</div>
        <div class="pop-fiche">Vinyle populaire:</div>
        <div class="titre-fiche" id="titre-vinyle">Album/Artiste</div>
        <div class="annee-fiche" id="annee-fiche">Année</div>
        <img id="cover-fiche" src="" alt="cover" class="img-fiche" />
        <button class="btn-audio" id="btn-audio" onclick="event.stopPropagation(); document.getElementById('audio-fiche').play()">Écouter un extrait</button>
        <div class="volume-control">
          <label for="volume-slider" class="volume-label">Volume</label>
          <input type="range" id="volume-slider" class="volume-slider" min="0" max="1" step="0.02" value="0.5" aria-label="Contrôle du volume sonore" />
        </div>
        <audio id="audio-fiche" src="" controls style="display:none;"></audio>
        <!-- Ajout lien YouTube pour écouter entièrement -->
        <a href="" id="full-track-link" class="full-track-link" target="_blank" rel="noopener noreferrer" style="display:block; margin-top:14px; color:#b0b0b0; text-align:center; font-weight:500; text-decoration:none; border-radius:6px; padding:6px 0 4px 0; transition: background 0.18s, color 0.18s;">
          Écouter le morceau en entier
        </a>
      </div>
    </div>
    <div class="texte-graph" style="text-align:left; margin-left:0;">
      Le vinyle, longtemps oublié, s’est imposé comme le symbole d’un retour à l’authentique. <br><br>
      Depuis 2012, ses ventes ont été multipliées par près de six en France, culminant à plus de 5 millions d’unités vendues en 2024. <br><br>
      Ce succès s’explique par la recherche d’un son chaleureux, l’envie de collection et un effet générationnel inattendu : en valeur, le vinyle dépasse pour la première fois le CD depuis les années 80.
    </div>
  </div>
  <script>
    const vinylesData = [
      { annee: "2000", ventes: "0,2M", titre: "Michael Jackson – Invincible", cover: "img/jackson2000.jpg", extrait: "son/jackson2000.mp3", youtube: "https://www.youtube.com/watch?v=g8n5IrTU6mU&list=PL74B6627BB23FBCBE" },
      { annee: "2012", ventes: "0,87M", titre: "Daft Punk – Discovery (réédition)", cover: "img/daftpunk2012.jpg", extrait: "son/daftpunk2012.mp3", youtube: "https://www.youtube.com/watch?v=4whD6uAryMs&list=PLSdoVPM5WnndSQEXRz704yQkKwx76GvPV" },
      { annee: "2016", ventes: "1,8M", titre: "David Bowie – Blackstar", cover: "img/bowie2016.png", extrait: "son/bowie2016.mp3", youtube: "https://www.youtube.com/watch?v=bXJzjj9lOP8&list=PLunAs_VfWjqeiP68DZVR0Zhn4ZGcPyfJB&index=1" },
      { annee: "2020", ventes: "4,5M", titre: "Billie Eilish – When We All Fall Asleep, Where Do We Go?", cover: "img/eilish2020.jpg", extrait: "son/eilish2020.mp3", youtube: "https://www.youtube.com/watch?v=5DcrRJI_H04&list=PLMSmPqvJ6siJwH_c2H_N8j9JqDt8ogyny" },
      { annee: "2022", ventes: "5,0M", titre: "Orelsan – Civilisation", cover: "img/orelsan2022.jpg", extrait: "son/orelsan2022.mp3", youtube: "https://www.youtube.com/watch?v=rXF1Si3LEEU" },
      { annee: "2024", ventes: "5,1M", titre: "Taylor Swift – 1989 (Taylor's Version)", cover: "img/swift2024.jpg", extrait: "son/swift2024.mp3", youtube: "https://youtu.be/-MtKC5wXqdQ?list=PLxA687tYuMWiHaLuwtNz6edZMBBgrXTL_" }
    ];

    const points = document.querySelectorAll('.graph-point');
    const tooltip = document.getElementById('tooltip-fiche');
    const titreFiche = document.getElementById('titre-vinyle');
    const anneeFiche = document.getElementById('annee-fiche');
    const chiffreFiche = document.getElementById('chiffre-fiche');
    const coverFiche = document.getElementById('cover-fiche');
    const audioFiche = document.getElementById('audio-fiche');
    const btnAudio = document.getElementById('btn-audio');
    const volumeSlider = document.getElementById('volume-slider');
    const fullTrackLink = document.getElementById('full-track-link');

    let hovertooltip = false;
    let hideTimeout;
    let lecture = false;

    points.forEach((pt, idx) => {
      pt.addEventListener('mouseenter', function () {
        clearTimeout(hideTimeout);
        const data = vinylesData[idx];

        titreFiche.textContent = data.titre;
        anneeFiche.textContent = data.annee;
        chiffreFiche.textContent = "Ventes totales : " + data.ventes;
        coverFiche.src = data.cover;
        audioFiche.src = data.extrait;
        audioFiche.pause();
        lecture = false;
        tooltip.style.display = "block";

        fullTrackLink.href = data.youtube;

        const svg = document.getElementById('svg-vinyle');
        const ptSVG = svg.createSVGPoint();
        ptSVG.x = this.cx.baseVal.value;
        ptSVG.y = this.cy.baseVal.value;
        const screenCTM = svg.getScreenCTM();
        const pos = ptSVG.matrixTransform(screenCTM);

        tooltip.style.left = (pos.x - svg.getBoundingClientRect().left - 60) + "px";
        tooltip.style.top = (pos.y - svg.getBoundingClientRect().top - 135) + "px";
      });

      pt.addEventListener('mouseleave', function () {
        hideTimeout = setTimeout(() => {
          if (!hovertooltip) {
            tooltip.style.display = "none";
            audioFiche.pause();
            audioFiche.currentTime = 0;
            lecture = false;
            btnAudio.textContent = 'Écouter un extrait';
          }
        }, 300);
      });
    });

    tooltip.addEventListener('mouseenter', () => {
      hovertooltip = true;
      clearTimeout(hideTimeout);
    });

    tooltip.addEventListener('mouseleave', () => {
      hovertooltip = false;
      hideTimeout = setTimeout(() => {
        tooltip.style.display = "none";
        audioFiche.pause();
        audioFiche.currentTime = 0;
        lecture = false;
        btnAudio.textContent = 'Écouter un extrait';
      }, 300);
    });

    btnAudio.addEventListener('click', (e) => {
      e.stopPropagation();
      if (lecture) {
        audioFiche.pause();
        btnAudio.textContent = 'Écouter un extrait';
        lecture = false;
      } else {
        audioFiche.play();
        btnAudio.textContent = 'Pause';
        lecture = true;
      }

      volumeSlider.value = 0.5;
      audioFiche.volume = volumeSlider.value;

      volumeSlider.addEventListener('input', () => {
        audioFiche.volume = volumeSlider.value;
      });
    });
  </script>
</section>



  <!-- SECTION 3 : Retour du vinyle aux États-Unis -->

<section id="usa" class="section">
    <div class="container">
      <h2>Évolution des ventes de vinyles</h2>
            <div class="graph-container">
        <canvas id="usaVinylChart" width="650" height="400"></canvas>
      </div>
      <p>
  Découvrez comment les ventes de vinyles ont évolué au fil des années aux États-Unis. <br><br>
  Là où l’industrie semblait tourner la page, le disque vinyle a retrouvé une voix puissante,
  redessinant le paysage musical américain.
      </p>
    </div>
  </section>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
  const ctxUSA = document.getElementById('usaVinylChart').getContext('2d');
  const usaVinylData = {
    labels: [
      '1995','1996','1997','1998','1999','2000','2001','2002','2003','2004',
      '2005','2006','2007','2008','2009','2010','2011','2012','2013','2014',
      '2015','2016','2017','2018','2019','2020'
    ],
    datasets: [{
      label: 'Ventes de vinyles aux Etats-Unis (En millions)',
      data: [
        2.2, 2.7, 2.6, 3.3, 3.0, 2.3, 2.4, 1.6, 1.5, 1.3,
        1.1, 1.5, 2.6, 3.4, 4.2, 5.5, 6.9, 9.4, 10.3, 13.5,
        14.9, 15.9, 17.2, 18.7, 21.0, 23.5
      ],
      backgroundColor: '#FF375F',
      borderColor: '#FF375F',
      borderWidth: 1,
      borderRadius: 5
    }]
  };

  new Chart(ctxUSA, {
    type: 'bar',
    data: usaVinylData,
    options: {
      responsive: true,
      scales: {
        y: {
          beginAtZero: true,
          max: 25,
          ticks: { 
                stepSize: 5,
                color: '#fff' 
            },
            grid: {
                color: 'rgba(255, 255, 255, 0.15)' 
            }
        },
        x: {
          ticks: {
            maxRotation: 45,
            minRotation: 45,
             color: '#fff' 
          },
            grid: {
                color: 'rgba(255, 255, 255, 0.15)' 
            }
        }
      },
      plugins: {
        legend: { 
            display: true, 
            labels: {
                color: '#fff' 
            }
        },
        title: {
          display: true,
          text: 'Ventes annuelles de vinyles aux États-Unis',
          font: { size: 18, weight: 'bold' },
          color: '#fff'
        }
      }
    }
  });
  </script>

  <!-- SECTION 4 : Top 10 des vinyles 2024 -->
  <section id="top10" class="section">
    <div class="container">
      <h2>Top 10 des Vinyles les Plus Achetés en France en 2024</h2>
      <p>
        Entre rééditions cultes et nouveaux artistes, voici les dix vinyles qui ont marqué
        les platines françaises en 2024 :
      </p>
    
      <!-- PODIUM -->
      <div class="podium-container">

        <div class="podium podium-2">
          <div class="podium-cover">
            <img src="img/albums/The Tortured Poets Department.jpg" alt="Taylor Swift" class="album-cover">
            <div class="podium-btn-wrap">
              <button class="listen-btn podium-btn" aria-label="Écouter Taylor Swift">▶</button>
              <audio class="audio-player" src="audio/The Tortured Poets Department.mp3"></audio>
            </div>
          </div>
          <div class="podium-bar silver"></div>
          <span class="album-label">
            <a href="https://www.youtube.com/watch?v=RQMz4JDbtmI" target="_blank" rel="noopener noreferrer">2. Taylor Swift – The Tortured Poets Department</a>
          </span>
        </div>

        <div class="podium podium-1">
          <div class="podium-cover">
            <img src="img/albums/Hit Me Hard And Soft.jpg" alt="Billie Eilish" class="album-cover">
            <div class="podium-btn-wrap">
              <button class="listen-btn podium-btn" aria-label="Écouter Billie Eilish">▶</button>
              <audio class="audio-player" src="audio/Hit Me Hard And Soft.mp3"></audio>
            </div>
          </div>
          <div class="podium-bar gold"></div>
          <span class="album-label">
            <a href="https://www.youtube.com/watch?v=l08Zw-RY__Q" target="_blank" rel="noopener noreferrer">1. Billie Eilish – Hit Me Hard And Soft</a>
          </span>
        </div>

        <div class="podium podium-3">
          <div class="podium-cover">
            <img src="img/albums/Legend.jpg" alt="Bob Marley" class="album-cover">
            <div class="podium-btn-wrap">
              <button class="listen-btn podium-btn" aria-label="Écouter Bob Marley">▶</button>
              <audio class="audio-player" src="audio/Legend.mp3"></audio>
            </div>
          </div>
          <div class="podium-bar bronze"></div>
          <span class="album-label">
            <a href="https://www.youtube.com/watch?v=IN0KkGeEURw" target="_blank" rel="noopener noreferrer">3. Bob Marley – Legend</a>
          </span>
        </div>
      </div>

      <!-- RESTE DU TOP 10 -->
      <div class="top10-chart">

        <div class="album-bar">
          <img src="img/albums/From Zero.jpg" alt="Linkin Park" class="album-cover">
          <button class="listen-btn" aria-label="Écouter Linkin Park">▶</button>
          <audio class="audio-player" src="audio/From Zero.mp3"></audio>
          <div class="bar-full" style="--bar-width: 90%;">
            <a href="https://www.youtube.com/watch?v=97Mj6pXYMd8" target="_blank">4. Linkin Park – From Zero</a>
          </div>
        </div>

        <div class="album-bar">
          <img src="img/albums/Back To Black.jpg" alt="Amy Winehouse" class="album-cover">
          <button class="listen-btn" aria-label="Écouter Amy Winehouse">▶</button>
          <audio class="audio-player" src="audio/Back To Black.mp3"></audio>
          <div class="bar-full" style="--bar-width: 85%;">
            <a href="https://www.youtube.com/watch?v=TJAfLE39ZZ8" target="_blank">5. Amy Winehouse – Back to Black</a>
          </div>
        </div>

        <div class="album-bar">
          <img src="img/albums/The Dark Side Of The Moon.jpg" alt="Pink Floyd" class="album-cover">
          <button class="listen-btn" aria-label="Écouter Pink Floyd">▶</button>
          <audio class="audio-player" src="audio/The Dark Side Of The Moon.mp3"></audio>
          <div class="bar-full" style="--bar-width: 80%;">
            <a href="https://www.youtube.com/watch?v=yl-Ms_ek-kE&list=OLAK5uy_n_QmNGWLkRc7EN5nTubzYUwIdP4c_i-ao&index=4" target="_blank">6. Pink Floyd – The Dark Side Of The Moon</a>
          </div>
        </div>

        <div class="album-bar">
          <img src="img/albums/Ipséité.jpg" alt="Damso" class="album-cover">
          <button class="listen-btn" aria-label="Écouter Damso">▶</button>
          <audio class="audio-player" src="audio/Ipséité.mp3"></audio>
          <div class="bar-full" style="--bar-width: 75%;">
            <a href="https://www.youtube.com/watch?v=J7ehhtj_krA" target="_blank">7. Damso – Ipséité</a>
          </div>
        </div>

        <div class="album-bar">
          <img src="img/albums/Thriller.jpg" alt="Michael Jackson" class="album-cover">
          <button class="listen-btn" aria-label="Écouter Michael Jackson">▶</button>
          <audio class="audio-player" src="audio/Thriller.mp3"></audio>
          <div class="bar-full" style="--bar-width: 70%;">
            <a href="https://www.youtube.com/watch?v=Zi_XLOBDo_Y" target="_blank">8. Michael Jackson – Thriller</a>
          </div>
        </div>

        <div class="album-bar">
          <img src="img/albums/La symphonie des éclairs.jpg" alt="Zaho de Sagazan" class="album-cover">
          <button class="listen-btn" aria-label="Écouter Zaho de Sagazan">▶</button>
          <audio class="audio-player" src="audio/La symphonie des éclairs.mp3"></audio>
          <div class="bar-full" style="--bar-width: 65%;">
            <a href="https://www.youtube.com/watch?v=pqo59FkF_5g" target="_blank">9. Zaho de Sagazan – La Symphonie des Éclairs</a>
          </div>
        </div>

        <div class="album-bar">
          <img src="img/albums/Imposteur.jpg" alt="Julien Doré" class="album-cover">
          <button class="listen-btn" aria-label="Écouter Julien Doré">▶</button>
          <audio class="audio-player" src="audio/Imposteur.mp3"></audio>
          <div class="bar-full" style="--bar-width: 60%;">
            <a href="https://www.youtube.com/watch?v=6R4B1yvsYgM" target="_blank">10. Julien Doré – Imposteur</a>
          </div>
        </div>

      </div>
    </div>

    <script>
      // Script lecture/pause
      document.querySelectorAll('.listen-btn').forEach(button => {
        const audio = button.nextElementSibling;
        button.addEventListener('click', () => {
          const isPlaying = !audio.paused;
          document.querySelectorAll('.audio-player').forEach(a => a.pause());
          if (!isPlaying) {
            audio.play();
            button.textContent = '⏸';
          } else {
            button.textContent = '▶';
          }
          audio.onended = () => button.textContent = '▶';
        });
      });

      // Animation d'apparition au défilement avec rebond
      const animatedElements = document.querySelectorAll('.podium, .album-bar');

      function handleScroll() {
        const triggerBottom = window.innerHeight * 0.85;
        animatedElements.forEach(el => {
          const rect = el.getBoundingClientRect();
          if (rect.top < triggerBottom) {
            el.classList.add('visible');
          }
        });
      }

      window.addEventListener('scroll', handleScroll);
      window.addEventListener('load', handleScroll);

      // Ajout classe initiale pour animation
      animatedElements.forEach(el => el.classList.add('animate-on-scroll'));
    </script>
  </section>

  <!-- Footer avec mentions / sources / haut de page -->
  <footer id="footer">
    <div class="footer-links">
      <a href="mentions-legales.html">Mentions légales</a> |
      <a href="sources.html">Sources</a> |
      <a href="#accueil">Haut de page ▲</a>
    </div>
    <p class="copyright">
      © 2025 - DataGroove
    </p>
  </footer>

<nav class="side-nav hidden">
  <a href="#accueil" class="nav-btn" data-section="accueil">
    <div class="nav-content">
      <img src="img/logo-accueil.png" alt="Accueil">
      <span class="nav-label">Accueil</span>
    </div>
  </a>
  
  <a href="#france" class="nav-btn" data-section="france">
    <div class="nav-content">
      <img src="img/logo-diagrame-chrome.png" alt="France">
      <span class="nav-label">France</span>
    </div>
  </a>
  
  <a href="#usa" class="nav-btn" data-section="usa">
    <div class="nav-content">
      <img src="img/logo-globe.png" alt="USA">
      <span class="nav-label">USA</span>
    </div>
  </a>
  
  <a href="#top10" class="nav-btn" data-section="top10">
    <div class="nav-content">
      <img src="img/logo-top10.png" alt="Top 10">
      <span class="nav-label">Top 10</span>
    </div>
  </a>
</nav>

<script src="script.js"></script>

</body>
</html>
